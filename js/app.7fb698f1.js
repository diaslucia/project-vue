(function(){"use strict";var t={1159:function(t,e,s){var a=s(3495),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("img",{staticClass:"sprinkles sprinklesTop",attrs:{src:s(8804),alt:"sprinkles"}}),a("img",{staticClass:"sprinkles sprinklesBottom",attrs:{src:s(8804),alt:"sprinkles"}}),a("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav"},[a("ul",{staticClass:"list"},[a("li",{staticClass:"link"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:s(6949)}})])],1),t.loggedIn?a("li",{staticClass:"link"},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-user"},on:{click:t.handleDropdown}}),t.dropdown?a("div",{staticClass:"dropdown"},[t.getUser.admin?a("p",{staticClass:"dropdown_text",on:{click:function(e){return t.goTo("/orders")}}},[t._v(" Orders ")]):a("p",{staticClass:"dropdown_text",on:{click:function(e){return t.goTo("/my-orders")}}},[t._v(" My orders ")]),a("div",{staticClass:"line"}),a("p",{staticClass:"dropdown_text",on:{click:t.logOut}},[t._v("Log out")])]):t._e()],1):a("li",{staticClass:"link"},[a("router-link",{attrs:{to:{name:"login"}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-user"}})],1)],1),a("li",{staticClass:"link",style:{visibility:t.visibility}},[a("router-link",{attrs:{to:{name:"cart"}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:"fa-solid fa-cart-shopping"}})],1),a("div",{staticClass:"number"},[a("span",[t._v(t._s(t.getTotalQuantity))])])],1)])])},n=[],c=s(3280),l={name:"NavBar",data:()=>({total:0,dropdown:!1}),computed:{...(0,c.Se)("user",["isAdmin","loggedIn","getUser"]),...(0,c.Se)("cart",["getTotalQuantity"]),visibility(){return this.isAdmin?"hidden":"visible"}},methods:{handleDropdown(){this.dropdown=!this.dropdown},logOut(){this.dropdown=!this.dropdown,this.$store.dispatch("user/logOutAction"),this.$router.push("/login")},goTo(t){this.$route.path!==t&&(this.dropdown=!this.dropdown,this.$router.push(t))}}},d=l,u=s(8544),m=(0,u.Z)(d,o,n,!1,null,"479fc268",null),p=m.exports,h={name:"App",components:{NavBar:p}},g=h,v=(0,u.Z)(g,r,i,!1,null,null,null),f=v.exports,C=s(6092),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.spinner?s("SpinnerSpin"):s("div",["Error"===t.fetchError?s("div",[s("p",{staticClass:"errorMessage"},[t._v("Sorry! There are no products at the moment")])]):s("div",{staticClass:"innerContainer"},t._l(t.products,(function(t){return s("ItemCard",{key:t.id,attrs:{product:t}})})),1)])],1)},y=[],b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{attrs:{to:{name:"detail",params:{id:t.product.id}}}},[s("div",{staticClass:"card"},[s("img",{staticClass:"img",attrs:{src:t.product.image,alt:t.product.name}}),s("h3",{staticClass:"title"},[t._v(t._s(t.product.name))]),s("p",{staticClass:"price"},[t._v("US$ "+t._s(t.product.price))])])])},$=[],w={name:"ItemCard",props:{product:{id:String,name:String,price:Number,image:String}},methods:{addCart(){console.log("agregado")}}},S=w,P=(0,u.Z)(S,b,$,!1,null,"f2f2ba44",null),q=P.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinnerContainer"},[a("img",{staticClass:"spinner",attrs:{alt:"spinner",src:s(3954)}})])}],k={},E=(0,u.Z)(k,x,U,!1,null,"97fdff8c",null),I=E.exports;const A={"Content-Type":"application/json"},T={error:null,async get(t){const e="GET",s={method:e,headers:A};return await this.fetchData(t,s)},async post(t,e){const s="POST",a=JSON.stringify(e),r={method:s,headers:A,body:a};return await this.fetchData(t,r)},async put(t,e){const s="PUT",a=JSON.stringify(e),r={method:s,headers:A,body:a};return await this.fetchData(t,r)},async delete(t){const e="DELETE",s={method:e,headers:A};return await this.fetchData(t,s)},async fetchData(t,e){this.error=null;try{const s=await fetch(t,{...e});return s.json()}catch(s){this.error=s.message,console.log(s)}}},N="https://649879019543ce0f49e2115e.mockapi.io";var O={name:"HomePage",components:{ItemCard:q,SpinnerSpin:I},data:()=>({products:[],fetchError:"",spinner:!0}),created(){this.fetchData(),this.redirectUser()},computed:{...(0,c.Se)("user",["isAdmin"])},methods:{async fetchData(){try{this.products=await T.get(`${N}/products`),this.spinner=!1}catch(t){this.fetchError="Error",console.log(t)}},redirectUser(){this.isAdmin&&this.$router.push("/admin")}}},D=O,Z=(0,u.Z)(D,_,y,!1,null,"5c40abd6",null),L=Z.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"form"},[s("vue-form",{staticStyle:{width:"100%"},attrs:{state:t.formState},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submitForm.apply(null,arguments)}}},[s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.email,expression:"model.email"}],attrs:{name:"email",type:"text",required:"",placeholder:"example@gmail.com"},domProps:{value:t.model.email},on:{input:function(e){e.target.composing||t.$set(t.model,"email",e.target.value)}}}),s("field-messages",{attrs:{name:"email",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")])])],1),s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],attrs:{name:"password",type:"text",required:"",placeholder:"******"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),s("field-messages",{attrs:{name:"password",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")])])],1),s("p",{staticClass:"error",style:{visibility:t.visibility}},[t._v(t._s(t.getErrorMessage))]),s("button",{staticClass:"button",attrs:{type:"submit"}},[t._v("Log in")]),s("router-link",{attrs:{to:{name:"signup"}}},[s("p",{staticClass:"text"},[t._v("Sign Up")])])],1)],1)])},M=[];const B="https://649879019543ce0f49e2115e.mockapi.io";var j={name:"LoginPage",data:()=>({formState:{},model:{email:"",password:""}}),computed:{...(0,c.Se)("user",["getErrorMessage","getIsUser","loggedIn"]),visibility(){return this.getIsUser?"hidden":"visible"}},methods:{async submitForm(){if(this.formState.$valid){const t=`${B}/users?email=${this.model.email}`;await this.$store.dispatch("user/getUserLogInAction",{query:t,password:this.model.password}),this.loggedIn&&this.$router.push("/")}}}},G=j,z=(0,u.Z)(G,F,M,!1,null,"f22f0a96",null),J=z.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[this.getCartLength?s("table",{staticClass:"table"},[s("tbody",t._l(this.getCart,(function(t){return s("ItemCart",{key:t.id,attrs:{product:t}})})),1)]):s("p",{staticClass:"text"},[t._v("Your cart is empty!")]),this.getCartLength?s("p",{staticClass:"total"},[t._v(" Total: "),s("span",{staticClass:"total_span"},[t._v(" US$"+t._s(t.getTotalPrice))])]):t._e(),this.getCartLength?s("button",{staticClass:"button",on:{click:t.buyCart}},[t._v(" Buy ")]):t._e()])},Y=[],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"card"},[s("td",{staticClass:"center_td"},[s("img",{staticClass:"img",attrs:{src:t.product.image,alt:t.product.name}})]),s("td",{staticClass:"title bigger_space"},[t._v(t._s(t.product.name))]),s("td",{staticClass:"text center_td"},[t._v("US$ "+t._s(t.product.price))]),s("td",{staticClass:"text"},[t._v("quantity: "+t._s(t.product.quantity))]),s("td",{staticClass:"text"},[t._v("subtotal: US$"+t._s(t.product.subtotal))]),s("td",{staticClass:"center_td"},[s("ItemCount",{attrs:{quantity:t.product.quantity},on:{"sub-product":t.subProduct,"sum-product":t.sumProduct}})],1),s("td",{staticClass:"center_td"},[s("button",{staticClass:"delete",on:{click:t.deleteProduct}},[t._v("Delete")])])])},H=[],K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"buttonContainer_counter"},[s("button",{staticClass:"button",on:{click:t.substractProduct}},[t._v("-")]),s("p",{staticClass:"text"},[t._v(t._s(t.quantity))]),s("button",{staticClass:"button",on:{click:t.addProduct}},[t._v("+")])])},V=[],W={name:"ItemCount",props:{quantity:Number},methods:{addProduct(){this.$emit("sum-product")},substractProduct(){this.quantity>1&&this.$emit("sub-product")}}},X=W,tt=(0,u.Z)(X,K,V,!1,null,"49e57053",null),et=tt.exports,st={name:"ItemCart",components:{ItemCount:et},props:{product:{id:String,name:String,quantity:Number,subtotal:Number,image:String}},methods:{...(0,c.nv)("cart",["deleteProductAction","sumProductAction","substractProductAction"]),subProduct(){this.substractProductAction(this.product)},sumProduct(){this.sumProductAction(this.product)},deleteProduct(){this.deleteProductAction(this.product)}}},at=st,rt=(0,u.Z)(at,R,H,!1,null,"744212d8",null),it=rt.exports;const ot={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function nt(){const t=new Date,e=t.toLocaleDateString("es-ES",ot);return e+"hs."}const ct="https://649879019543ce0f49e2115e.mockapi.io";var lt={name:"CartPage",components:{ItemCart:it},computed:{...(0,c.Se)("user",["loggedIn"]),...(0,c.Se)("cart",["getCart","getTotalPrice","getCartLength"])},methods:{async buyCart(){if(this.loggedIn){const e=nt(),s={timestamp:e,total:this.getTotalPrice,products:[...this.getCart]};this.$store.dispatch("user/pushOrderAction",s);try{await T.put(`${ct}/users/${this.$store.user.id}`,this.$store.user),this.$store.dispatch("cart/setEmptyCartAction")}catch(t){console.log(t)}finally{this.$router.push("/")}}else this.$router.push("/login")}}},dt=lt,ut=(0,u.Z)(dt,Q,Y,!1,null,"44b68507",null),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TableProducts"),s("router-link",{attrs:{to:{name:"add-update-product",params:{id:"new-product"}}}},[s("button",{staticClass:"button"},[t._v("+")])])],1)},ht=[],gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.spinner?s("SpinnerSpin"):s("div",{staticClass:"container"},[s("table",[s("tbody",t._l(t.products,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"image_td"},[s("img",{staticClass:"image",attrs:{src:e.image,alt:e.name}})]),s("td",[t._v(t._s(t._f("capitalize")(e.name)))]),s("td",[t._v("US$ "+t._s(e.price))]),s("td",{staticClass:"td"},[s("button",{staticClass:"button button_edit",on:{click:function(s){return t.editProduct(e.id)}}},[t._v(" Editar ")])]),s("td",{staticClass:"td"},[s("button",{staticClass:"button",on:{click:function(s){return t.deleteProduct(e.id)}}},[t._v(" Eliminar ")])])])})),0)])])],1)},vt=[];const ft="https://649879019543ce0f49e2115e.mockapi.io";var Ct={name:"TableProducts",data:()=>({products:[],spinner:!0}),components:{SpinnerSpin:I},filters:{capitalize(t){return t.replace(/\b\w/g,(t=>t.toUpperCase()))}},created(){this.fetchData()},methods:{async fetchData(){try{this.products=await T.get(`${ft}/products`),this.spinner=!1}catch(t){console.log(t)}},async deleteProduct(t){this.spinner=!0;try{await T.delete(`${ft}/products/${t}`),this.products=this.products.filter((e=>e.id!=t))}catch(e){console.log(e)}finally{this.spinner=!1}},editProduct(t){this.$router.push(`/admin/product/${t}`)}}},_t=Ct,yt=(0,u.Z)(_t,gt,vt,!1,null,"b286631e",null),bt=yt.exports,$t={name:"AdminPage",components:{TableProducts:bt},created(){this.redirectUser()},methods:{redirectUser(){this.isAdmin||this.$router.push("/")}},computed:{...(0,c.Se)("user",["isAdmin"])}},wt=$t,St=(0,u.Z)(wt,pt,ht,!1,null,"57b6fc24",null),Pt=St.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.getLoading?s("SpinnerSpin"):s("div",{staticClass:"container"},t._l(t.getUsers,(function(e,a){return s("div",{key:a},[e.order.length>0?s("div",[s("div",{staticClass:"userContainer"},[s("p",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.email))])]),t._l(e.order,(function(e,a){return s("div",{key:a,staticClass:"firstTable"},[s("div",{staticClass:"textContainer"},[s("p",{staticClass:"timestamp"},[t._v(" "+t._s(e.timestamp)+" ")]),s("p",{staticClass:"total"},[t._v("Total: US$ "+t._s(e.total))])]),s("div",{staticClass:"line"}),t._l(e.products,(function(e,a){return s("table",{key:a},[s("tr",{staticClass:"card"},[s("td",{staticClass:"center_td"},[s("img",{staticClass:"img",attrs:{src:e.image,alt:e.name}})]),s("td",{staticClass:"title bigger_space"},[t._v(t._s(e.name))]),s("td",{staticClass:"text center_td"},[t._v("US$ "+t._s(e.price))]),s("td",{staticClass:"text"},[t._v("quantity: "+t._s(e.quantity))]),s("td",{staticClass:"text"},[t._v("subtotal: US$"+t._s(e.subtotal))])])])}))],2)}))],2):t._e()])})),0)],1)},xt=[],Ut={name:"OrdersPage",components:{SpinnerSpin:I},created(){this.fetchData(),this.redirectUser()},methods:{redirectUser(){this.isAdmin||this.$router.push("/")},async fetchData(){this.$store.dispatch("user/fetchUsersAction")}},computed:{...(0,c.Se)("user",["getUsers","getLoading","isAdmin"])}},kt=Ut,Et=(0,u.Z)(kt,qt,xt,!1,null,"a99551b4",null),It=Et.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.spinner?s("SpinnerSpin"):s("ItemDetail",{attrs:{product:t.product}})],1)},Tt=[],Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("img",{staticClass:"img",attrs:{src:t.product.image,alt:t.product.name}}),s("div",{staticClass:"innerContainer"},[s("div",{staticClass:"textContainer"},[s("h3",{staticClass:"title"},[t._v(t._s(t.product.name))]),s("p",{staticClass:"price"},[t._v("US$"+t._s(t.product.price)+" ud.")])]),s("p",{staticClass:"text"},[t._v(t._s(t.product.description))]),t.added?s("div",{staticClass:"buttonContainer"},[s("p",{staticClass:"added"},[t._v("Product added!")]),s("button",{staticClass:"button",on:{click:t.goCart}},[t._v("Go to cart")])]):s("div",{staticClass:"buttonContainer"},[s("ItemCount",{attrs:{quantity:t.quantity},on:{"sub-product":t.substractProduct,"sum-product":t.sumProduct}}),s("button",{staticClass:"button",on:{click:t.addCart}},[t._v("Add to cart")])],1)])])},Ot=[],Dt={name:"ItemDetail",components:{ItemCount:et},props:{product:{id:String,name:String,price:Number,description:String,image:String}},data:()=>({quantity:1,added:!1}),methods:{addCart(){this.$store.dispatch("cart/addToCartAction",{product:this.product,quantitySelected:this.quantity}),this.added=!0},substractProduct(){this.quantity>1&&this.quantity--},sumProduct(){this.quantity++},goCart(){this.$router.push("/cart")}}},Zt=Dt,Lt=(0,u.Z)(Zt,Nt,Ot,!1,null,"fa6fd83c",null),Ft=Lt.exports;const Mt="https://649879019543ce0f49e2115e.mockapi.io";var Bt={name:"ItemDetailContainer",components:{ItemDetail:Ft,SpinnerSpin:I},data:()=>({product:{},spinner:!0}),created(){this.fetchDetail()},methods:{async fetchDetail(){try{this.product=await T.get(`${Mt}/products/${this.$route.params.id}`),this.spinner=!1}catch(t){console.log(t)}}}},jt=Bt,Gt=(0,u.Z)(jt,At,Tt,!1,null,"109369ea",null),zt=Gt.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"form"},[s("vue-form",{staticStyle:{width:"100%"},attrs:{state:t.formState},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submitForm.apply(null,arguments)}}},[s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],attrs:{name:"name",type:"text",minlength:"3",maxlength:"10",required:"",placeholder:"John Doe"},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),s("field-messages",{attrs:{name:"name",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")]),s("div",{staticClass:"error",attrs:{slot:"minlength"},slot:"minlength"},[t._v(" Name should contain at least 3 characters ")]),s("div",{staticClass:"error",attrs:{slot:"maxlength"},slot:"maxlength"},[t._v(" Name needs to be less than 10 characters ")])])],1),s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.email,expression:"model.email"}],attrs:{name:"email",type:"email",required:"",placeholder:"example@gmail.com"},domProps:{value:t.model.email},on:{input:function(e){e.target.composing||t.$set(t.model,"email",e.target.value)}}}),s("field-messages",{attrs:{name:"email",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")]),s("div",{staticClass:"error",attrs:{slot:"email"},slot:"email"},[t._v("Enter a valid email")])])],1),s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],attrs:{name:"password",type:"password",required:"",minlength:"6",placeholder:"******"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),s("field-messages",{attrs:{name:"password",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")]),s("div",{staticClass:"error",attrs:{slot:"minlength"},slot:"minlength"},[t._v(" Password should contain at least 6 characters ")])])],1),s("p",{staticClass:"error",style:{visibility:t.visibility}},[t._v(t._s(t.getErrorMessage))]),s("button",{staticClass:"button",attrs:{type:"submit"}},[t._v("Register")]),s("router-link",{attrs:{to:{name:"login"}}},[s("p",{staticClass:"text"},[t._v("Log in")])])],1)],1)])},Qt=[];const Yt="https://649879019543ce0f49e2115e.mockapi.io";var Rt={name:"SignUpPage",data:()=>({formState:{},model:{name:"",email:"",password:""}}),computed:{...(0,c.Se)("user",["getIsUser","getErrorMessage"]),visibility(){return this.getIsUser?"hidden":"visible"}},methods:{...(0,c.nv)("user",["getUserSignUpAction","postUserAction"]),async submitForm(){if(this.formState.$valid){const t=`${Yt}/users?email=${this.model.email}`;await this.getUserSignUpAction(t),this.getIsUser&&(await this.postUserAction(this.model),this.$router.push("/"))}}}},Ht=Rt,Kt=(0,u.Z)(Ht,Jt,Qt,!1,null,"6d6980d7",null),Vt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0===t.getUser.order.length?s("div",{staticClass:"emptyContainer"},[s("p",{staticClass:"textEmpty"},[t._v("You don't have orders")])]):s("div",{staticClass:"container"},[s("div",{staticClass:"innerContainer"},t._l(t.getUser.order,(function(e,a){return s("div",{key:a,staticClass:"firstTable"},[s("div",{staticClass:"textContainer"},[s("p",{staticClass:"orderNumber"},[t._v("Order "+t._s(a+1))]),s("p",{staticClass:"timestamp"},[t._v(" "+t._s(e.timestamp)+" ")])]),s("div",{staticClass:"line"}),t._l(e.products,(function(e,a){return s("table",{key:a},[s("tr",{staticClass:"card"},[s("td",{staticClass:"center_td"},[s("img",{staticClass:"img",attrs:{src:e.image,alt:e.name}})]),s("td",{staticClass:"title bigger_space"},[t._v(t._s(e.name))]),s("td",{staticClass:"text center_td"},[t._v("US$ "+t._s(e.price))]),s("td",{staticClass:"text"},[t._v("quantity: "+t._s(e.quantity))]),s("td",{staticClass:"text"},[t._v("subtotal: US$"+t._s(e.subtotal))])])])})),s("div",{staticClass:"totalContainer"},[s("p",{staticClass:"total"},[t._v("Total: US$ "+t._s(e.total))])])],2)})),0)])])},Xt=[],te={name:"MyOrdersPage",computed:{...(0,c.Se)("user",["getUser"])}},ee=te,se=(0,u.Z)(ee,Wt,Xt,!1,null,"7ed0ea7a",null),ae=se.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"textContainer"},[a("p",{staticClass:"title"},[t._v("Oops!")]),a("p",{staticClass:"text"},[t._v("Page not found")]),a("button",{staticClass:"button",on:{click:t.goBack}},[t._v("Go back")])]),a("img",{staticClass:"image",attrs:{alt:"donut",src:s(3954)}})])},ie=[],oe={name:"ErrorPage",methods:{goBack(){this.$router.push("/")}}},ne=oe,ce=(0,u.Z)(ne,re,ie,!1,null,"74af5a8c",null),le=ce.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.spinner?s("SpinnerSpin"):s("div",{staticClass:"form"},[s("vue-form",{staticStyle:{width:"100%"},attrs:{state:t.formState},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.submitForm.apply(null,arguments)}}},[s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Name of product")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],attrs:{name:"name",type:"text",required:"",placeholder:"Glazed donut"},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),s("field-messages",{attrs:{name:"name",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")])])],1),s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"}],attrs:{name:"description",type:"text",required:"",placeholder:"Glazed donut"},domProps:{value:t.model.description},on:{input:function(e){e.target.composing||t.$set(t.model,"description",e.target.value)}}}),s("field-messages",{attrs:{name:"description",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")])])],1),s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("Price")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.price,expression:"model.price"}],attrs:{name:"price",type:"number",required:"",placeholder:"25"},domProps:{value:t.model.price},on:{input:function(e){e.target.composing||t.$set(t.model,"price",e.target.value)}}}),s("field-messages",{attrs:{name:"price",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")])])],1),s("validate",{staticClass:"label",attrs:{tag:"label"}},[s("span",[t._v("URL image")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.image,expression:"model.image"}],attrs:{name:"image",type:"text",required:"",placeholder:"https://image.com/132"},domProps:{value:t.model.image},on:{input:function(e){e.target.composing||t.$set(t.model,"image",e.target.value)}}}),s("field-messages",{attrs:{name:"image",show:"$dirty && $touched || $submitted"}},[s("div",{staticClass:"error",attrs:{slot:"required"},slot:"required"},[t._v("Field required")])])],1),s("button",{staticClass:"button",attrs:{type:"submit"}},[t._v("Submit")])],1)],1)],1)},ue=[];const me="https://649879019543ce0f49e2115e.mockapi.io";var pe={name:"EditProductPage",data:()=>({formState:{},model:{name:"",description:"",quantity:1,price:"",image:""},spinner:!0}),components:{SpinnerSpin:I},created(){this.getProduct(),this.redirectUser()},computed:{...(0,c.Se)("user",["isAdmin"])},methods:{redirectUser(){this.isAdmin||this.$router.push("/")},async getProduct(){if("new-product"!=this.$route.params.id)try{let t=await T.get(`${me}/products/${this.$route.params.id}`);this.model={name:t.name,description:t.description,quantity:1,price:t.price,image:t.image},this.spinner=!1}catch(t){console.log(t)}finally{this.spinner=!1}else this.spinner=!1},async updateProduct(){if(this.formState.$valid)try{this.products=await T.put(`${me}/products/${this.$route.params.id}`,{...this.model,subtotal:this.model.price})}catch(t){console.log(t)}finally{this.$router.push("/admin")}},async addProduct(){if(this.formState.$valid)try{this.products=await T.post(`${me}/products`,{...this.model,subtotal:this.model.price})}catch(t){console.log(t)}finally{this.$router.push("/admin")}},submitForm(){"new-product"===this.$route.params.id?this.addProduct():this.updateProduct()}}},he=pe,ge=(0,u.Z)(he,de,ue,!1,null,"f3dc869c",null),ve=ge.exports;a.Z.use(C.ZP);const fe=[{path:"/",component:L,name:"home"},{path:"/login",component:J,name:"login"},{path:"/signup",component:Vt,name:"signup"},{path:"/cart",component:mt,name:"cart"},{path:"/admin",component:Pt,name:"admin"},{path:"/my-orders",component:ae,name:"my-orders"},{path:"/orders",component:It,name:"orders"},{path:"/admin/product/:id",component:ve,name:"add-update-product"},{path:"/detail/:id",component:zt,name:"detail"},{path:"*",component:le}],Ce=new C.ZP({mode:"history",routes:fe});var _e=Ce;const ye="https://649879019543ce0f49e2115e.mockapi.io",be={namespaced:!0,state:{user:{},users:[],loading:!0,isUser:!0,errorMessage:""},getters:{loggedIn(t){return!!t.user.id},isAdmin(t){return!!t.user.id&&t.user?.admin},getUser(t){return t.user},getLoading(t){return t.loading},getUsers(t){return t.users},getIsUser(t){return t.isUser},getErrorMessage(t){return t.errorMessage}},mutations:{logOut(t){t.user={}},setUser(t,e){t.user=e},setUsers(t,e){t.users=e},setLoading(t,e){t.loading=e},setIsUser(t,e){t.isUser=e},setErrorMessage(t,e){t.errorMessage=e},pushOrder(t,e){t.user.order.push(e)}},actions:{logOutAction(t){t.commit("logOut")},setUserAction(t){t.commit("setUser")},fetchUsersAction:async t=>{t.commit("setLoading",!0);try{let e=await T.get(`${ye}/users`);t.commit("setUsers",e),t.commit("setLoading",!1)}catch(e){console.log(e)}},getUserSignUpAction:async(t,e)=>{try{let s=await T.get(e);s[0]?(t.commit("setErrorMessage","Email already registered"),t.commit("setIsUser",!1)):t.commit("setIsUser",!0)}catch(s){console.log(s)}},getUserLogInAction:async(t,e)=>{try{let s=await T.get(e.query);s[0]?(t.commit("setIsUser",!0),s[0].password===e.password?t.commit("setUser",s[0]):(t.commit("setIsUser",!1),t.commit("setErrorMessage","Invalid password"))):(t.commit("setErrorMessage","User not found"),t.commit("setIsUser",!1))}catch(s){console.log(s)}},postUserAction:async(t,e)=>{try{let s=await T.post(`${ye}/users`,{...e,admin:!1,order:[]});t.commit("setUser",s)}catch(s){console.log(s)}},pushOrderAction:(t,e)=>{t.commit("pushOrder",e)}}},$e={namespaced:!0,state:{cart:[],loading:!0},getters:{getTotalQuantity(t){return t.cart.reduce(((t,e)=>t+e.quantity),0)},getTotalPrice(t){return t.cart.reduce(((t,e)=>t+e.subtotal),0)},getCart(t){return t.cart},getCartLength(t){return t.cart.length},findById:t=>e=>t.cart.find((t=>t.id===e)),findIndexById:t=>e=>t.cart.findIndex((t=>t.id===e))},mutations:{setLoading(t,e){t.loading=e},setEmptyCart(t){t.cart=[]},pushProduct(t,e){t.cart.push(e)},removeFromCart:(t,e)=>{t.cart.splice(e,1)}},actions:{getCartAction:t=>{t.commit("setLoading",!0)},setEmptyCartAction:t=>{t.commit("setEmptyCart")},deleteProductAction:({getters:t,commit:e},s)=>{let a=t.findIndexById(s.id);e("removeFromCart",a)},sumProductAction:({getters:t,commit:e},s)=>{let a=t.findById(s.id);e("removeFromCart",a),e("pushProduct",{...a,quantity:a.quantity+1,subtotal:Number(a.price*(a.quantity+1))})},substractProductAction:({getters:t,commit:e},s)=>{let a=t.findById(s.id);a.quantity>0&&(e("removeFromCart",a),e("pushProduct",{...a,quantity:a.quantity-1,subtotal:Number(a.price*(a.quantity-1))}))},addToCartAction:({getters:t,commit:e},s)=>{let a=t.findById(s.product.id);a?(e("removeFromCart",a),e("pushProduct",{...a,quantity:a.quantity+s.quantitySelected,subtotal:Number(s.product.price*(s.quantitySelected+a.quantity))})):e("pushProduct",{...s.product,quantity:s.quantitySelected,subtotal:Number(s.product.price*s.quantitySelected)})}}};a.Z.use(c.ZP);var we=new c.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{user:be,cart:$e}}),Se=s(6965),Pe=s.n(Se),qe=s(4655),xe=s(9273),Ue=s(8452);qe.vI.add(Ue.ILF,Ue.yYj),a.Z.component("font-awesome-icon",xe.GN),a.Z.config.productionTip=!1,a.Z.use(Pe()),new a.Z({store:we,router:_e,render:t=>t(f)}).$mount("#app")},6949:function(t,e,s){t.exports=s.p+"img/logo.dd535a1c.png"},3954:function(t,e,s){t.exports=s.p+"img/spinner.c329aeec.png"},8804:function(t,e,s){t.exports=s.p+"img/sprinkles.0c6f08ae.png"}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,r,i){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],r=t[d][1],i=t[d][2];for(var n=!0,c=0;c<a.length;c++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(n=!1,i<o&&(o=i));if(n){t.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,r,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,o=a[0],n=a[1],c=a[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(c)var d=c(s)}for(e&&e(a);l<o.length;l++)i=o[l],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunkproject_vue"]=self["webpackChunkproject_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(1159)}));a=s.O(a)})();
//# sourceMappingURL=app.7fb698f1.js.map